<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>opsex.wtf</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&family=Fira+Code:wght@400;600&display=swap');
    body { font-family: 'Inter', sans-serif; }
    .font-mono { font-family: 'Fira Code', monospace; }
    ::selection { background-color: #f5c2e7; color: #11111b; }
    
    .letter-morph {
      display: inline;
      position: relative;
    }
    
    .letter-morph::before {
      content: "x";
      animation: morphToC 4s ease-in-out infinite;
    }
    
    @keyframes morphToC {
      0%, 40% { 
        content: "x";
        opacity: 1;
      }
      50% {
        opacity: 0;
      }
      60%, 100% { 
        content: "c";
        opacity: 1;
      }
    }
    
    .terminal {
      background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
      border: 1px solid #334155;
    }
    
    .cursor {
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    
    .typewriter {
      border-right: 2px solid #22c55e;
      animation: typing 3s steps(40) infinite;
      white-space: nowrap;
      overflow: hidden;
    }
    
    @keyframes typing {
      0%, 90%, 100% { width: 0; }
      30%, 60% { width: 100%; }
    }
  </style>
</head>
<body class="min-h-screen bg-[#11111b] text-[#cdd6f4]">
  <div class="max-w-3xl mx-auto px-6 py-20 sm:py-32">
    <header class="text-center mb-24">
      <h1 class="text-7xl sm:text-9xl font-black tracking-tighter relative inline-block text-gray-200 font-mono">
        opse<span class="text-red-500 line-through letter-morph"></span>
        <span class="absolute -top-4 -right-20 text-4xl text-gray-600 font-sans">.wtf</span>
      </h1>
      <p class="mt-6 text-xl text-gray-400 font-light">know before you boast</p>
    </header>

    <main class="space-y-12 text-gray-300 leading-relaxed">
      
      <div class="text-center">
        <p class="text-2xl mb-6">saw someone post their "setup" yesterday</p>
        <p class="text-gray-400">7 VPNs, 3 different browsers, kali linux VM</p>
        <p class="text-gray-400">then proceeded to log into discord with their real email</p>
      </div>

      <div class="w-24 h-px bg-gray-700 mx-auto"></div>

      <div class="terminal p-4 rounded-lg font-mono text-sm">
        <div class="flex items-center mb-2">
          <span class="text-green-400">user@localhost</span>
          <span class="text-gray-500">:</span>
          <span class="text-blue-400">~</span>
          <span class="text-gray-500">$</span>
          <span class="ml-2 text-gray-300 typewriter">whois badass_hacker_1997</span>
        </div>
        <div class="text-gray-400 text-xs">
          <p>Name: Tyler Johnson</p>
          <p>Location: Mom's residence, Kentucky</p>
          <p>Skills: pasting from yt tutos</p>
        </div>
      </div>

      <div>
        <p class="text-xl mb-6">fun fact: your "anonymous" telegram account</p>
        <p class="text-gray-400">
          the one you use the same username as everywhere else? 
          yeah that's not how this works
        </p>
      </div>

      <div class="terminal p-4 rounded-lg font-mono text-sm">
        <div class="flex items-center mb-2">
          <span class="text-green-400">root@kali</span>
          <span class="text-gray-500">:</span>
          <span class="text-blue-400">/home</span>
          <span class="text-gray-500">#</span>
          <span class="ml-2 text-gray-300">nmap -sS 127.0.0.1</span>
        </div>
        <div class="text-red-400 text-xs">
          <p>Starting Nmap scan on localhost...</p>
          <p>Host is up. Congrats, you scanned yourself.</p>
        </div>
      </div>

      <div class="bg-[#1a1b26] p-6 rounded-lg border border-gray-800">
        <p class="text-yellow-400 mb-3 font-medium">actual opsec isn't:</p>
        <p class="text-gray-400">
          downloading tor → changing your discord pfp to anonymous mask → calling everyone "fed"
        </p>
      </div>

      <div>
        <p class="text-xl mb-6">it's more like</p>
        <div class="space-y-3 text-gray-400">
          <p>not using your birth year in usernames</p>
          <p>not posting screenshots with your desktop visible</p>
          <p>not linking your spotify to everything</p>
          <p>basic stuff that nobody thinks about</p>
        </div>
      </div>

      <div class="text-center">
        <div class="w-8 h-px bg-gray-600 mx-auto"></div>
      </div>

      <div class="terminal p-4 rounded-lg font-mono text-sm">
        <div class="flex items-center">
          <span class="text-green-400">guest@discord</span>
          <span class="text-gray-500">:</span>
          <span class="text-blue-400">~</span>
          <span class="text-gray-500">></span>
          <span class="ml-2 text-gray-300">i know ur real name and address bro</span>
          <span class="cursor text-green-400">|</span>
        </div>
      </div>

      <div>
        <p class="text-gray-400 mb-4">
          met someone who spent 2 hours explaining their "compartmentalization strategy" 
        </p>
        <p class="text-gray-400 mb-4">
          then asked me to add them on their main instagram account
        </p>
        <p class="text-gray-500 italic">with their full name and location in bio</p>
      </div>

      <div class="bg-[#1a1b26] p-6 rounded-lg border border-gray-800">
        <p class="text-gray-200 mb-3 text-lg">you don't need 47 different identities</p>
        <p class="text-gray-400">
          you just need to stop oversharing everything about yourself 
          to strangers on the internet
        </p>
      </div>

    </main>

    <footer class="text-center pt-16 border-t border-gray-800 mt-24">
      <p class="text-gray-600">made for retards</p>
    </footer>
  </div>

  <div id="chatToggle" class="fixed bottom-6 right-6 bg-gradient-to-br from-[#1e293b] to-[#0f172a] p-4 rounded-full shadow-lg cursor-pointer border border-gray-700 hover:border-gray-600 transition-all">
    <svg class="w-6 h-6 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
    </svg>
  </div>

  <div id="chatBox" class="fixed bottom-6 right-6 w-full sm:w-96 max-w-[calc(100vw-3rem)] h-[600px] max-h-[calc(100vh-3rem)] bg-[#11111b] border border-gray-700 rounded-lg shadow-2xl hidden flex-col">
    <div class="bg-gradient-to-r from-[#1e293b] to-[#0f172a] p-4 rounded-t-lg border-b border-gray-700 flex justify-between items-center">
      <div>
        <h3 class="font-semibold text-gray-200">chat</h3>
        <p class="text-xs text-gray-500"><span id="userCount">0</span> online</p>
      </div>
      <button id="chatClose" class="text-gray-400 hover:text-gray-200">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>

    <div id="usernamePrompt" class="flex-1 flex items-center justify-center p-6">
      <div class="text-center w-full">
        <p class="text-gray-400 mb-4">enter username</p>
        <input id="usernameInput" type="text" class="w-full bg-[#1a1b26] border border-gray-700 rounded-lg px-4 py-2 text-gray-200 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all mb-3" placeholder="anonymous" maxlength="20">
        <button id="joinChat" class="block w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed">join</button>
        <p id="connectionError" class="text-red-400 text-xs mt-3 hidden">server unavailable</p>
      </div>
    </div>

    <div id="chatInterface" class="flex-1 flex flex-col hidden overflow-hidden">
      <div class="flex border-b border-gray-700 shrink-0">
        <button class="chat-tab flex-1 px-4 py-2 text-sm text-gray-400 hover:text-gray-200 border-b-2 border-blue-500" data-tab="public">public</button>
        <button class="chat-tab flex-1 px-4 py-2 text-sm text-gray-400 hover:text-gray-200" data-tab="private">private</button>
      </div>

      <div id="publicTab" class="flex-1 flex flex-col overflow-hidden">
        <div id="publicMessages" class="flex-1 overflow-y-auto p-3 space-y-1.5"></div>
        <div class="p-3 border-t border-gray-700 bg-[#0f0f14] shrink-0">
          <div class="flex gap-2">
            <input id="publicInput" type="text" class="flex-1 bg-[#1a1b26] border border-gray-700 rounded px-3 py-1.5 text-gray-200 text-sm focus:outline-none focus:border-blue-500 transition-colors" placeholder="message">
            <button id="publicSend" class="bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors text-sm">send</button>
          </div>
        </div>
      </div>

      <div id="privateTab" class="flex-1 flex flex-col hidden overflow-hidden">
        <div id="privateMessages" class="flex-1 overflow-y-auto p-3 space-y-1.5"></div>
        <div class="p-3 border-t border-gray-700 bg-[#0f0f14] shrink-0">
          <input id="privateRecipient" type="text" class="w-full bg-[#1a1b26] border border-gray-700 rounded px-3 py-1.5 text-gray-200 text-sm focus:outline-none focus:border-blue-500 transition-colors mb-2" placeholder="to: username">
          <div class="flex gap-2">
            <input id="privateInput" type="text" class="flex-1 bg-[#1a1b26] border border-gray-700 rounded px-3 py-1.5 text-gray-200 text-sm focus:outline-none focus:border-blue-500 transition-colors" placeholder="private message">
            <button id="privateSend" class="bg-blue-600 text-white px-4 py-1.5 rounded hover:bg-blue-700 transition-colors text-sm">send</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>
  <script>
    const SERVER_URL = 'https://wbevro.onrender.com';
    
    const chatToggle = document.getElementById('chatToggle');
    const chatBox = document.getElementById('chatBox');
    const chatClose = document.getElementById('chatClose');
    const usernamePrompt = document.getElementById('usernamePrompt');
    const usernameInput = document.getElementById('usernameInput');
    const joinChat = document.getElementById('joinChat');
    const chatInterface = document.getElementById('chatInterface');
    const publicMessages = document.getElementById('publicMessages');
    const privateMessages = document.getElementById('privateMessages');
    const publicInput = document.getElementById('publicInput');
    const privateInput = document.getElementById('privateInput');
    const privateRecipient = document.getElementById('privateRecipient');
    const publicSend = document.getElementById('publicSend');
    const privateSend = document.getElementById('privateSend');
    const userCount = document.getElementById('userCount');
    const publicTab = document.getElementById('publicTab');
    const privateTab = document.getElementById('privateTab');

    let socket;
    let currentUsername;
    const connectionError = document.getElementById('connectionError');

    const escapeHtml = (text) => {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    };

    const formatTime = (timestamp) => {
      const date = new Date(timestamp);
      return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false });
    };

    const scrollToBottom = (element) => {
      element.scrollTo({ top: element.scrollHeight, behavior: 'smooth' });
    };

    chatToggle.addEventListener('click', () => {
      chatBox.classList.remove('hidden');
      chatBox.classList.add('flex');
      chatToggle.classList.add('hidden');
    });

    chatClose.addEventListener('click', () => {
      chatBox.classList.add('hidden');
      chatBox.classList.remove('flex');
      chatToggle.classList.remove('hidden');
    });

    joinChat.addEventListener('click', () => {
      if (joinChat.disabled) return;
      
      joinChat.disabled = true;
      joinChat.textContent = 'joining...';
      
      const username = usernameInput.value.trim() || 'anon';
      currentUsername = username;
      connectionError.classList.add('hidden');
      
      if (typeof io === 'undefined') {
        connectionError.textContent = 'chat server offline';
        connectionError.classList.remove('hidden');
        joinChat.disabled = false;
        joinChat.textContent = 'join';
        return;
      }
      
      if (!SERVER_URL) {
        connectionError.textContent = 'chat server notup';
        connectionError.classList.remove('hidden');
        joinChat.disabled = false;
        joinChat.textContent = 'join';
        return;
      }
      
      socket = io(SERVER_URL, { timeout: 5000 });
      
      const connectionTimeout = setTimeout(() => {
        connectionError.textContent = 'connection timeout';
        connectionError.classList.remove('hidden');
        joinChat.disabled = false;
        joinChat.textContent = 'join';
      }, 5000);
      
      socket.on('connect', () => {
        clearTimeout(connectionTimeout);
        socket.emit('join', username);
      });
      
      socket.on('connect_error', () => {
        clearTimeout(connectionTimeout);
        connectionError.textContent = 'server unavailable';
        connectionError.classList.remove('hidden');
        joinChat.disabled = false;
        joinChat.textContent = 'join';
      });
      
      socket.on('join_success', () => {
        clearTimeout(connectionTimeout);
        usernamePrompt.classList.add('hidden');
        chatInterface.classList.remove('hidden');
        chatInterface.classList.add('flex');
      });

      socket.on('public_message', ({ username, message, timestamp }) => {
        const msg = document.createElement('div');
        msg.className = 'text-sm';
        const time = formatTime(timestamp);
        msg.innerHTML = `<div class="flex gap-2"><span class="text-gray-600 text-xs shrink-0 mt-0.5">${time}</span><span class="text-blue-400 shrink-0">${escapeHtml(username)}</span><span class="text-gray-400 break-words">${escapeHtml(message)}</span></div>`;
        publicMessages.appendChild(msg);
        scrollToBottom(publicMessages);
      });

      socket.on('private_message', ({ from, to, message, sent, timestamp }) => {
        const msg = document.createElement('div');
        msg.className = 'text-sm';
        const time = formatTime(timestamp);
        if (sent) {
          msg.innerHTML = `<div class="flex gap-2"><span class="text-gray-600 text-xs shrink-0 mt-0.5">${time}</span><span class="text-green-400 shrink-0">you → ${escapeHtml(to)}</span><span class="text-gray-400 break-words">${escapeHtml(message)}</span></div>`;
        } else {
          msg.innerHTML = `<div class="flex gap-2"><span class="text-gray-600 text-xs shrink-0 mt-0.5">${time}</span><span class="text-purple-400 shrink-0">${escapeHtml(from)} → you</span><span class="text-gray-400 break-words">${escapeHtml(message)}</span></div>`;
        }
        privateMessages.appendChild(msg);
        scrollToBottom(privateMessages);
      });

      socket.on('user_joined', ({ username, count }) => {
        userCount.textContent = count;
        const msg = document.createElement('div');
        msg.className = 'text-gray-600 text-xs text-center py-0.5';
        msg.textContent = `${escapeHtml(username)} joined`;
        publicMessages.appendChild(msg);
        scrollToBottom(publicMessages);
      });

      socket.on('user_left', ({ username, count }) => {
        userCount.textContent = count;
        const msg = document.createElement('div');
        msg.className = 'text-gray-600 text-xs text-center py-0.5';
        msg.textContent = `${escapeHtml(username)} left`;
        publicMessages.appendChild(msg);
        scrollToBottom(publicMessages);
      });

      socket.on('error_message', ({ error }) => {
        const msg = document.createElement('div');
        msg.className = 'text-red-400 text-xs text-center';
        msg.textContent = error;
        privateMessages.appendChild(msg);
        scrollToBottom(privateMessages);
      });
    });

    publicSend.addEventListener('click', () => {
      const msg = publicInput.value.trim();
      if (msg && msg.length <= 500) {
        socket.emit('public_message', msg);
        publicInput.value = '';
      }
    });

    privateSend.addEventListener('click', () => {
      const msg = privateInput.value.trim();
      const to = privateRecipient.value.trim();
      if (msg && to && msg.length <= 500) {
        socket.emit('private_message', { to, message: msg });
        privateInput.value = '';
      }
    });

    publicInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') publicSend.click();
    });

    privateInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') privateSend.click();
    });

    usernameInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') joinChat.click();
    });

    document.querySelectorAll('.chat-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.chat-tab').forEach(t => {
          t.classList.remove('border-blue-500');
          t.classList.add('border-transparent');
        });
        tab.classList.add('border-blue-500');
        tab.classList.remove('border-transparent');

        if (tab.dataset.tab === 'public') {
          publicTab.classList.remove('hidden');
          publicTab.classList.add('flex');
          privateTab.classList.add('hidden');
        } else {
          privateTab.classList.remove('hidden');
          privateTab.classList.add('flex');
          publicTab.classList.add('hidden');
        }
      });
    });
  </script>

</body>
</html>
